<div class="container">
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="all-tab" data-toggle="tab" href="#all" role="tab" aria-controls="all" aria-selected="true">All</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="movies-tab" data-toggle="tab" href="#movies" role="tab" aria-controls="movies" aria-selected="false">Movies</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="shows-tab" data-toggle="tab" href="#shows" role="tab" aria-controls="shows" aria-selected="false">Shows</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="books-tab" data-toggle="tab" href="#books" role="tab" aria-controls="books" aria-selected="false">Books</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="fanfics-tab" data-toggle="tab" href="#fanfics" role="tab" aria-controls="fanfics" aria-selected="false">Fanfics</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="games-tab" data-toggle="tab" href="#games" role="tab" aria-controls="games" aria-selected="false">Games</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="misc-tab" data-toggle="tab" href="#misc" role="tab" aria-controls="misc" aria-selected="false">Misc.</a>
    </li>
  </ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">...</div>
    <div class="tab-pane fade" id="movies" role="tabpanel" aria-labelledby="movies-tab">...</div>
    <div class="tab-pane fade" id="shows" role="tabpanel" aria-labelledby="shows-tab">...</div>
    <div class="tab-pane fade" id="books" role="tabpanel" aria-labelledby="books-tab">...</div>
    <div class="tab-pane fade" id="fanfics" role="tabpanel" aria-labelledby="fanfics-tab">...</div>
    <div class="tab-pane fade" id="games" role="tabpanel" aria-labelledby="games-tab">...</div>
    <div class="tab-pane fade" id="misc" role="tabpanel" aria-labelledby="misc-tab">...</div>
  </div>
</div>


<div class="container d-flex flex-wrap justify-content-around" id="accordion">
  <% @recs.each do |rec| %>
    <% if rec.photo.attached? %>
      <div class="rec-overlay">
        <%= cl_image_tag rec.photo.key, class: "index-image" %>
        <div class="card-overlay text-center d-flex align-items-center justify-content-around">
          <a data-toggle="collapse" href="#collapse-<%=rec.id%>" role="button" aria-expanded="false" aria-controls="#collapse-<%=rec.id%>">
            <i class="fas fa-eye"></i>
          </a>
          <%= link_to rec.link, target: :_blank do %>
            <i class="fas fa-link"></i>
          <% end %>
        </div>
      </div>

      <div class="collapse" id="collapse-<%=rec.id%>" data-parent="#accordion">
        <div class="card card-body">
          <div class="container d-flex">
            <% if rec.photo.attached? %>
              <%= cl_image_tag rec.photo.key, class: "show-image" %>
            <% end %>
            <div class="ml-4 show-rec-card">
              <div class="d-flex justify-content-between">
                <div class="mr-4 pr-4">
                  <h1><%= rec.title %></h1>
                  <h6><%= rec.creator %></h6>
                </div>
                <div class="ml-4 mt-4 pl-4 text-right">
                  <h6>IMDB: <%= rec.imdb_rating %>/10</h6>
                  <h6>Rotten Tomatoes: <%= rec.rt_rating %>%</h6>
                </div>
              </div>
              <h3 class="mt-4">Synopsis:</h3>
              <p><%= rec.synopsis %></p>
              <h3 class="mt-4">Why you should give it a shot:</h3>
              <p><%= rec.why %></p>
              <% if user_signed_in? %>
                <%= link_to edit_rec_path(rec) do %>
                  <i class="fas fa-edit"></i>
                <% end %>
                <%= link_to rec_path(rec), method: :delete do %>
                  <i class="fas fa-trash-alt"></i>
                <% end %>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>
</div>